chrome.storage.sync.get("readMode",(e=>{1!=e.readMode&&(chrome.storage.sync.set({readMode:0}),handleReadMode())})),chrome.storage.sync.get("darkMode",(e=>{1!=e.darkMode&&(chrome.storage.sync.set({darkMode:0}),handleDarkMode())})),chrome.storage.sync.get("isCustomColorSet",(e=>{1!=e.isCustomColorSet&&(chrome.storage.sync.set({isCustomColorSet:0}),handleCustomColor())})),document.addEventListener("mousemove",(()=>{handleDarkMode(),handleReadMode(),handleCustomColor()}));const handleReadMode=()=>{chrome.storage.sync.get("readMode",(e=>{const t=document.createElement("div");t.setAttribute("id","readMode4530"),t.style.cssText="position: fixed;display: none;width: 100%;height: 100%;top: 0;left: 0;right: 0;bottom: 0;background-color: rgba(255,215,0,0.3);z-index: 999999999999;display: block;pointer-events: none;",e.readMode?document.getElementById("readMode4530")||document.body.appendChild(t):document.getElementById("readMode4530")&&document.getElementById("readMode4530").remove()}))},handleDarkMode=()=>{chrome.storage.sync.get("darkMode",(e=>{if(1==e.darkMode){document.documentElement.style.filter="invert(1)",document.documentElement.style.backgroundColor="black",document.documentElement.style.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px";for(let e=0;e<document.images.length;e++)document.images[e].style.filter="invert(1)";let e=document.querySelectorAll("video");for(let t=0;t<e.length;t++)e[t].style.filter="invert(1)"}else{document.documentElement.style.filter="invert(0)",document.documentElement.style.backgroundColor="";for(let e=0;e<document.images.length;e++)document.images[e].style.filter="invert(0)";let e=document.querySelectorAll("video");for(let t=0;t<e.length;t++)e[t].style.filter="invert(0)"}}))},handleCustomColor=()=>{chrome.storage.sync.get(["isCustomColorSet","customColor"],(e=>{if(1==e.isCustomColorSet){document.documentElement.style.backgroundColor=e.customColor,document.documentElement.style.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px";const t=document.createElement("div");t.setAttribute("id","customMode4530"),t.style.cssText=`position: fixed;display: none;width: 100%;height: 100%;top: 0;left: 0;right: 0;bottom: 0;background-color: ${e.customColor};opacity: 0.4;z-index: 999999999999;display: block;pointer-events: none;`,e.isCustomColorSet&&(document.getElementById("customMode4530")||document.body.appendChild(t))}}))};